/* src/styles/consultahorariospublica.css */
.pubcal-container {
  min-height: 100vh;
  background: linear-gradient(135deg, #f0f4f8 0%, #d9e2ec 100%);
  padding: 20px;
  display: flex;
  justify-content: center;
  box-sizing: border-box;
  font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, Arial,
    sans-serif;
}

.pubcal-card {
  width: min(1200px, 100%);
  background: #fff;
  border: 1px solid #e2e8f0;
  border-radius: 16px;
  box-shadow: 0 14px 36px rgba(15, 23, 42, 0.12);
  padding: 2rem;
  text-align: center;
  /* Añadido para que el card pueda crecer */
  height: fit-content;
}

.pubcal-logo {
  font-size: 3rem;
  color: #210d65;
  margin-bottom: 1rem;
}

.pubcal-title {
  font-weight: 800;
  font-size: 2rem;
  color: #210d65;
  margin: 0 0 0.5rem;
}

.pubcal-subtitle {
  color: #64748b;
  margin: 0 0 2rem;
  font-size: 1rem;
}

.pubcal-form {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 1rem;
  align-items: flex-end;
  margin-bottom: 2rem;
}

.pubcal-input-wrap {
  position: relative;
  width: 320px;
  max-width: 100%;
}

.pubcal-input {
  width: 100%;
  border: 2px solid #e2e8f0;
  background: #f7f9fc;
  padding: 1rem;
  border-radius: 10px;
  transition: 0.2s;
  font-size: 1rem;
  box-sizing: border-box; /* Añadido para consistencia */
}

.pubcal-input:focus {
  outline: none;
  border-color: #210d65;
  box-shadow: 0 0 0 3px rgba(33, 13, 101, 0.15);
}

.pubcal-label {
  position: absolute;
  left: 1rem;
  top: 50%;
  transform: translateY(-50%);
  color: #94a3b8;
  pointer-events: none;
  transition: 0.15s;
  background: transparent;
  font-weight: 600;
}

.pubcal-input:focus + .pubcal-label,
.pubcal-input:not(:placeholder-shown) + .pubcal-label {
  top: -0.5rem;
  left: 0.75rem;
  font-size: 0.875rem;
  font-weight: 700;
  background: #fff; /* Fondo blanco para tapar la línea */
  padding: 0 0.5rem;
  color: #210d65;
}

.pubcal-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 1rem 1.25rem;
  border-radius: 10px;
  border: 1px solid #e2e8f0;
  background: #f8fafc;
  cursor: pointer;
  font-weight: 700;
  color: #0f172a;
  transition: 0.15s;
  font-size: 1rem;
  height: 54px; /* Altura fija igual al input */
  box-sizing: border-box;
}

.pubcal-btn:hover {
  transform: translateY(-1px);
  background: #eef2f7;
}

.pubcal-btn.primary {
  background: #210d65;
  color: #fff;
  border-color: #210d65;
}

.pubcal-btn.primary:hover {
  background: #1a0b4d;
  box-shadow: 0 10px 22px rgba(33, 13, 101, 0.2);
}

.pubcal-btn:disabled {
  opacity: 0.7;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.spin {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.pubcal-msg {
  margin: 1rem 0;
  background: #f8fafc;
  border: 1px solid #e2e8f0;
  color: #334155;
  padding: 1rem;
  border-radius: 10px;
  font-weight: 700;
  display: flex; /* Cambiado a flex */
  align-items: center;
  gap: 0.5rem;
  justify-content: center;
  width: 100%;
  box-sizing: border-box;
}

.pubcal-msg.error {
  background: #ffebeb;
  border-color: #fca5a5;
  color: #dc2626;
}

.pubcal-header {
  margin-top: 1rem;
  display: flex;
  gap: 1.5rem; /* Más espacio */
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
  padding: 1rem 0;
  text-align: left; /* Alinear a la izquierda */
}

.pubcal-emp {
  display: inline-flex;
  align-items: center;
  gap: 0.75rem; /* Más espacio */
  font-weight: 800;
  color: #210d65;
  font-size: 1.25rem; /* Más grande */
}

.pubcal-summary {
  display: grid;
  gap: 0.75rem;
  grid-template-columns: repeat(
    auto-fit,
    minmax(120px, 1fr)
  ); /* Auto-ajustable */
  width: auto;
  flex-grow: 1; /* Permitir que crezca */
  max-width: 700px; /* Límite */
}

.sum-card {
  background: #f8fafc;
  border: 1px solid #e2e8f0;
  border-radius: 12px;
  padding: 0.75rem 1rem;
  display: grid;
  gap: 0.25rem;
  text-align: center;
}

.sum-card span {
  color: #64748b;
  font-size: 0.75rem;
  font-weight: 800;
  text-transform: uppercase; /* Distintivo */
}

.sum-card strong {
  color: #0f172a;
  font-size: 1.125rem;
  font-weight: 700;
}

.sum-card.legal {
  background: #eef2ff;
  border-color: #c7d2fe;
}
.sum-card.legal strong {
  color: #4338ca;
}
.sum-card.extra {
  background: #fffbeb;
  border-color: #fde68a;
}
.sum-card.extra strong {
  color: #b45309;
}
.sum-card.total {
  background: #ecfeff;
  border-color: #a5f3fc;
}
.sum-card.total strong {
  color: #0e7490;
}
.sum-card.dias {
  background: #f1f5f9;
}

/* ¡NUEVO! Estilo para tarjeta de banco */
.sum-card.bank {
  background: #dcfce7;
  border-color: #bbf7d0;
}
.sum-card.bank strong {
  color: #166534;
}

.separator {
  border: 0;
  height: 1px;
  background-color: #e2e8f0;
  margin: 2rem auto;
  width: min(80%, 600px);
}

.pubcal-weekly-list {
  display: grid;
  gap: 1rem;
  text-align: left; /* Alinear todo a la izquierda */
}

.pubcal-weekly-title {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  color: #210d65;
  font-weight: 800;
  font-size: 1.5rem;
  margin: 0 0 1rem;
}

.weekly-item {
  background: #fff;
  border: 1px solid #e2e8f0;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.04);
}

.weekly-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.25rem;
  cursor: pointer;
  transition: background-color 0.15s;
  flex-wrap: wrap;
  gap: 1rem;
}

.weekly-header:hover {
  background-color: #f8fafc;
}

.week-info {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.week-date {
  font-size: 1.125rem;
  font-weight: 800;
  color: #210d65;
}

.week-summary {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex-wrap: wrap;
  color: #475569;
}

.week-total-hours {
  display: flex;
  align-items: center;
  gap: 0.375rem;
  font-size: 0.875rem;
  font-weight: 700;
}

.dot {
  font-size: 0.375rem;
  color: #d1d5db;
}

.toggle-icon {
  font-size: 0.75rem;
  color: #94a3b8;
  transition: transform 0.2s;
}

.weekly-details {
  padding: 0;
  background: #f7f9fc;
  border-top: 1px solid #e2e8f0;
}

.days-grid {
  display: grid;
  /* Apila las tarjetas en 1 columna por defecto */
  grid-template-columns: 1fr;
  gap: 1rem;
  padding: 1.25rem;
}

/* En pantallas más anchas, muestra 2 columnas */
@media (min-width: 768px) {
  .days-grid {
    grid-template-columns: 1fr 1fr;
  }
}
/* En pantallas muy anchas, muestra 3 columnas */
@media (min-width: 1100px) {
  .days-grid {
    grid-template-columns: 1fr 1fr 1fr;
  }
}

/* Estilos específicos para Estudio en DayCard */
.badge.tag-estudio {
  background: #fef3c7;
  color: #92400e;
  border-color: #fcd34d;
}

.day-blocked-info.estudio-blocked {
  color: #b45309; /* Amber-700 */
}

.day-blocked-info.estudio-blocked svg {
  color: #d97706; /* Amber-600 */
}

/* Estilos para detalles de Estudio en lista de novedades */
.novedad-estudio-details {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  width: 100%;
}

.estudio-days-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  font-size: 0.85rem;
  color: #475569;
  background: #fffbeb; /* Amber-50 */
  padding: 0.5rem;
  border-radius: 6px;
  border: 1px solid #fcd34d;
}

.estudio-days-list li {
  display: flex;
  gap: 0.5rem;
}

/* --- ¡NUEVOS ESTILOS PARA DAY-CARD! --- */

.day-card {
  background: #fff;
  border: 1px solid #e2e8f0;
  border-radius: 10px;
  padding: 1rem;
  display: grid;
  gap: 0.75rem;
  border-left: 4px solid #4f46e5; /* Borde azul de día de trabajo */
}

/* Día bloqueado */
.day-card.blocked {
  border-left-color: #ef4444; /* Borde rojo */
  background: #fef2f2;
}

/* Día libre */
.day-card.off {
  border-left-color: #cbd5e1; /* Borde gris */
  background: #f8fafc;
}

.day-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 0.5rem;
  border-bottom: 1px solid #f1f5f9;
  padding-bottom: 0.75rem;
}

.day-name {
  font-size: 1.125rem;
  font-weight: 700;
  color: #210d65;
  text-transform: capitalize; /* Lunes, Martes... */
}

.day-date {
  font-size: 0.875rem;
  color: #64748b;
  font-weight: 500;
}

.day-content {
  display: grid;
  gap: 0.85rem;
}

/* --- Contenido de Día de Trabajo --- */
.day-jornada {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 1.1rem;
  font-weight: 600;
  color: #1e293b;
}
.day-jornada span {
  font-family: "Courier New", monospace, sans-serif;
  font-size: 1.05rem;
}

.hours-badges {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.badge {
  background: #f1f5f9;
  color: #475569;
  padding: 0.25rem 0.75rem;
  border-radius: 9999px;
  font-size: 0.75rem;
  font-weight: 600;
  border: 1px solid #cbd5e1;
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
}

.badge.legal {
  background: #eef2ff;
  color: #4338ca;
  border-color: #c7d2fe;
}
.badge.extra {
  background: #fffbeb;
  color: #b45309;
  border-color: #fde68a;
}
.badge.total {
  background: #f0fdf4;
  color: #15803d;
  border-color: #bbf7d0;
}

.tags-badges {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-top: 0.25rem;
  padding-top: 0.5rem;
  border-top: 1px dashed #e2e8f0;
}
.badge.tag-holiday {
  background: #e0f2fe;
  color: #0369a1;
  border-color: #bae6fd;
}
.badge.tag-reduced {
  background: #fefce8;
  color: #a16207;
  border-color: #fde047;
}
.badge.tag-bank {
  background: #dcfce7;
  color: #166534;
  border-color: #bbf7d0;
}
.badge.tag-manual {
  background: #f3e8ff;
  color: #7e22ce;
  border-color: #e9d5ff;
}

/* --- Contenido de Día Bloqueado/Libre/Domingo --- */
.day-blocked-info,
.day-sunday-info,
.day-off-info {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  font-size: 1rem;
  font-weight: 600;
  min-height: 50px;
}

.day-blocked-info {
  color: #b91c1c;
}
.day-blocked-info svg {
  font-size: 1.25rem;
  flex-shrink: 0;
}
.blocked-details {
  display: flex;
  flex-direction: column;
}
.blocked-details strong {
  font-size: 1rem;
}
.blocked-details span {
  font-size: 0.85rem;
  font-weight: 500;
  color: #475569;
  font-style: italic;
}

.day-sunday-info {
  color: #475569;
}
.day-off-info {
  color: #64748b;
  font-weight: 500;
}

.status-compensado {
  color: #166534;
  font-weight: 700;
}
.status-sin-compensar {
  color: #b91c1c;
  font-weight: 700;
}

/* --- ¡NUEVO! Sección de Novedades (Bloqueos) --- */
.pubcal-novedades-section {
  margin-top: 2rem;
  padding: 1.25rem;
  background: #fef2f2; /* Fondo rojo muy claro */
  border: 1px solid #fecaca;
  border-radius: 12px;
  text-align: left;
}

.novedades-title {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 1.25rem;
  font-weight: 700;
  color: #b91c1c; /* Rojo oscuro */
  margin: 0 0 1rem 0;
}

.pubcal-novedades-list {
  display: grid;
  gap: 0.75rem;
}

.novedad-item {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 0.5rem 1rem;
  padding: 0.75rem;
  background: #ffffff;
  border: 1px solid #fee2e2;
  border-radius: 8px;
}

.novedad-tipo {
  font-weight: 700;
  color: #991b1b;
  font-size: 0.875rem;
}

.novedad-rango {
  font-weight: 500;
  color: #475569;
  font-size: 0.875rem;
}

.novedad-obs {
  font-size: 0.875rem;
  color: #64748b;
  font-style: italic;
  width: 100%;
}

/* --- Responsive General --- */
@media (max-width: 900px) {
  .pubcal-summary {
    grid-template-columns: repeat(2, minmax(120px, 1fr));
    width: 100%;
  }
}

@media (max-width: 640px) {
  .pubcal-card {
    padding: 1rem; /* Padding más pequeño en móvil */
  }
  .pubcal-form {
    flex-direction: column;
    align-items: stretch;
  }
  .pubcal-input-wrap {
    width: 100%;
  }
  .pubcal-header {
    flex-direction: column;
    align-items: stretch; /* Alinear a lo ancho */
    gap: 1rem;
  }
  .pubcal-summary {
    grid-template-columns: 1fr 1fr;
    width: 100%;
  }
  .day-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.25rem;
  }
  .days-grid {
    padding: 1rem;
    gap: 0.75rem;
  }
  /* Responsive para Novedades */
  .pubcal-novedades-section {
    padding: 1rem;
  }
  .novedad-item {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.25rem;
  }
  .novedad-obs {
    font-size: 0.8rem;
    padding-top: 0.25rem;
    margin-top: 0.25rem;
    border-top: 1px dashed #fecaca;
  }
}
